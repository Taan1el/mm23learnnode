"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.optimizeImportLiterals = optimizeImportLiterals;

var _ImportLiteral = require("./ImportLiteral");

var _getType = require("./get-type");

/**
 * Squash literals and symbols
 *
 * @param {ImportLiteralOrSymbol[]} importValue
 * @returns {ImportLiteralOrSymbol[]}
 */
function optimizeImportLiterals(importValue) {
  return importValue.reduce(function (importValue, item) {
    const previousItem = importValue.pop();

    if (previousItem === void 0) {
      return [...importValue, item];
    }

    const previousType = (0, _getType.getType)(previousItem);
    const type = (0, _getType.getType)(item);

    if (previousType !== type || type === 'ImportSymbol') {
      return [...importValue, previousItem, item];
    }

    const nextItem = `${previousItem.valueOf()}${item.valueOf()}`;
    const nextValue = new _ImportLiteral.ImportLiteral(nextItem);
    return [...importValue, nextValue];
  }, []);
}