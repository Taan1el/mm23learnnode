"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.resolve = resolve;

var _path = _interopRequireDefault(require("path"));

var _ImportLiteral = require("./ImportLiteral");

var _ImportSymbol = require("./ImportSymbol");

var _normalizeTrailingSlash = require("./normalize-trailing-slash");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Joins template import with another path
 *
 * @param {string} prependPath
 * @param {ImportWrapper} templateImport
 */
function resolve(prependPath, templateImport) {
  let _templateImport = templateImport.concat();

  let firstPart = _templateImport.shift();

  if (firstPart instanceof _ImportSymbol.ImportSymbol) {
    _templateImport.unshift(firstPart);

    firstPart = '';
  }

  const filePath = (0, _normalizeTrailingSlash.normalizeTrailingSlash)(_path.default.resolve(prependPath, firstPart.valueOf()), firstPart);

  _templateImport.unshift(new _ImportLiteral.ImportLiteral(filePath));

  return _templateImport;
}