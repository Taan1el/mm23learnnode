"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getImportPath = getImportPath;

require("core-js/modules/es.array.sort.js");

var _getPathRemover = require("./get-path-remover");

var _sortBy = require("./sort-by");

const isWindows = process.platform === 'win32';
const sortByLength = (0, _sortBy.sortBy)('length');
/**
 * @param {string}   resourcePath
 * @param {string[]} searchPaths
 * @returns {string}
 */

function getImportPath(resourcePath, searchPaths) {
  const removeSearchPath = (0, _getPathRemover.getPathRemover)(resourcePath);
  let [importPath] = searchPaths.map(removeSearchPath).sort(sortByLength);

  if (isWindows) {
    importPath = importPath.replace(/\\/g, '/');
  }

  return importPath;
}